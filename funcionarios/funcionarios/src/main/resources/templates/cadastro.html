<!doctype html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Cadastro de Funcionário</title>
  <link rel="stylesheet" th:href="@{/css/style.css}" />
</head>
<body>
  <main class="container">
    <header class="card header-card">
      <h1>Cadastro de Funcionário</h1>
      <p class="muted">Escolha o cargo e preencha o formulário.</p>
    </header>

    <form class="card form-card" th:action="@{/salvar}" method="post" th:object="${form}">
      <div class="grid">
        <div class="field">
          <label for="cargo">Cargo</label>
          <select id="cargo" name="cargo" th:field="*{cargo}" required>
            <option value="">-- selecione --</option>
            <option value="Gerente">Gerente</option>
            <option value="Desenvolvedor">Desenvolvedor</option>
            <option value="Estagiario">Estagiário</option>
          </select>
        </div>

        <div class="field">
          <label for="nome">Nome</label>
          <input id="nome" type="text" th:field="*{nome}" required />
        </div>

        <div class="field">
          <label for="idade">Idade</label>
          <input id="idade" type="number" min="14" th:field="*{idade}" required />
        </div>

        <div class="field">
          <label for="email">E-mail</label>
          <input id="email" type="email" th:field="*{email}" />
        </div>

        <div class="field">
          <label for="codigo">Código</label>
          <input id="codigo" type="number" th:field="*{codigo}" required />
        </div>

        <div class="field">
          <label for="salario">Salário (R$)</label>
          <input id="salario" type="number" step="0.01" th:field="*{salario}" />
        </div>

        <fieldset class="address fullwidth">
          <legend>Endereço</legend>
          <div class="grid">
            <div class="field">
              <label for="rua">Rua</label>
              <input id="rua" type="text" th:field="*{rua}" />
            </div>
            <div class="field">
              <label for="cidade">Cidade</label>
              <input id="cidade" type="text" th:field="*{cidade}" />
            </div>
          </div>
        </fieldset>

        <!-- Campos específicos, controlados por JS -->
        <div id="grupo-gerente" class="field extra-field" style="display:none;">
          <label for="bonus">Bônus (R$)</label>
          <input id="bonus" type="number" step="0.01" th:field="*{bonus}" />
        </div>

        <div id="grupo-desenvolvedor" class="field extra-field" style="display:none;">
          <label for="linguagemPrincipal">Linguagem Principal</label>
          <input id="linguagemPrincipal" type="text" th:field="*{linguagemPrincipal}" />
        </div>

        <div id="grupo-estagiario" class="field extra-field" style="display:none;">
          <label for="instituicaoEnsino">Instituição de Ensino</label>
          <input id="instituicaoEnsino" type="text" th:field="*{instituicaoEnsino}" />
        </div>

        <div class="field fullwidth">
          <label for="observacoes">Observações</label>
          <textarea id="observacoes" rows="3" th:field="*{observacoes}"></textarea>
        </div>
      </div>

      <footer class="form-actions">
        <button type="submit" class="btn primary">Salvar</button>
        <button type="reset" class="btn neutral">Limpar</button>
      </footer>
    </form>

    <footer class="muted small center">
      <p>Projeto Funcionários — formulário unificado</p>
    </footer>
  </main>

  <script th:src="@{/js/form.js}"></script>
</body>
</html>
